# =====================================================
# PASSPORT PRO PRODUCTION CONFIGURATION
# =====================================================
# Copy this file to .env.local and customize values
# Never commit .env.local to version control!
# =====================================================

# --- Primary Database: PostgreSQL ---
KC_DB=postgres
KC_DB_URL=jdbc:postgresql://localhost:5432/passport_iam
KC_DB_USERNAME=passport_admin
KC_DB_PASSWORD=CHANGE_ME_secure_password_here
KC_DB_SCHEMA=passport

# --- Redis Stack (Agent Services Cache) ---
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=CHANGE_ME_redis_password
REDIS_DB=0

# --- Server Configuration ---
KC_HOSTNAME=localhost
KC_HOSTNAME_STRICT=false
KC_HTTP_ENABLED=true
KC_HTTP_PORT=8080
# KC_PROXY=edge  # Uncomment for production behind reverse proxy

# --- HTTPS Configuration (Production) ---
# KC_HTTPS_CERTIFICATE_FILE=/opt/passport/certs/cert.pem
# KC_HTTPS_CERTIFICATE_KEY_FILE=/opt/passport/certs/key.pem
# KC_HTTPS_PORT=8443

# --- Admin Bootstrap ---
KC_BOOTSTRAP_ADMIN_USERNAME=admin
KC_BOOTSTRAP_ADMIN_PASSWORD=CHANGE_ME_admin_password

# --- Agency Extension (Agent Passports) ---
PASSPORT_AGENCY_ENABLED=true
PASSPORT_AGENT_PASSPORTS_ENABLED=true
PASSPORT_DEFAULT_JURISDICTION=US
PASSPORT_MAX_PASSPORTS_PER_PRINCIPAL=100

# --- External Integrations ---
MCPFABRIC_REGISTRY_URL=https://mcpfabric.space/api/registry
AGENTFORGE_API_URL=https://aetheragentforge.org/api/v1
AGENTFORGE_ISSUER_KEY=

# --- Features ---
KC_FEATURES=organization,declarative-user-profile

# --- Logging ---
QUARKUS_LOG_LEVEL=INFO
QUARKUS_LOG_CATEGORY__ORG_PASSPORT__LEVEL=DEBUG

# --- Health & Metrics ---
KC_HEALTH_ENABLED=true
KC_METRICS_ENABLED=true
